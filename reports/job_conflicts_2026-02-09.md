# Job conflicts & inconsistencies — 2026-02-09

Generated by: 哆啦Ai熊

Summary: This report lists detected display/configuration conflicts between the task registry (/Users/apple/clawd/cron_logs/job_registry.json), cron logs, and OpenClaw gateway config (/Users/apple/.openclaw/openclaw.json). Use as an audit checklist when deciding which cron jobs to keep/remove or to normalize.

## High-level findings
- Field inconsistency: `id` vs `job_id` keys mixed in registry → parsing ambiguity.
- Duplicates: some jobs appear both in top-level lists and in `daily_jobs` (e.g. `daily-ops-report-2000`).
- Name drift: "小档" renamed to "小雅" in registry, historical logs still reference old name.
- Missing executor hints: many registry entries lack `script` or `exec_hint`.
- Owner visibility: `owner` added to registry but gateway UI reads /Users/apple/.openclaw/openclaw.json (not job_registry.json), so UI won't show owner unless gateway config is patched.

---

## Per-job table (canonical id / name / schedule / detected conflict / evidence)

| job_id | name (registry) | schedule | conflict type | evidence (path) |
|---|---|---:|---|---|
| 6f73e973-201c-4ff4-b3b5-2160fe2e1c77 | CTF周大福采集 | 每2小时 | No direct script field in registry; historical logs OK; owner recently set to agent:ctf-director but UI won't show it | cron_logs/job_registry.json; cron_logs/2026-02-06.jsonl; /Users/apple/clawd/logs/worker-ctf.log; /Users/apple/clawd/scripts/ctf_daily_dump.py |
| 9d95dc14-fa08-46a6-9287-765f8462ba5e | 中东/伊朗局势跟踪 | 每6小时 | No executor path in registry; owner set to agent:news-analyst but UI not reading registry | cron_logs/2026-02-06.jsonl; job_registry.json |
| 80af1350-28a3-40d4-8aa9-bc9d6077bcbd | 越南房地产每日情报汇总 | 每日09:00 | No executor path in registry; owner set to agent:vn-realestate | job_registry.json; cron_logs/2026-02-07.jsonl |
| 267899a7-9894-4c1d-8dbe-72035a19faf1 | 小雅每日知识审阅 (was 小档每日知识审阅) | 每日10:00 | Name changed in registry but historical logs/report still use old name; alias missing | job_registry.json (renamed), cron_logs/2026-02-07.jsonl (old name), reports/ |
| 0d16abb1-6a7e-43cf-8a41-6c1d47a0083c | 小雅知识审阅_done_marker (was 小档...) | 每日10:40 | Same as above (name drift) | job_registry.json; cron_logs/ |
| b651aee3-e1de-4834-b467-834fbc509fbb | 川习通话市场政策跟踪 | 每6小时 | No executor path in registry; owner set to agent:news-analyst | job_registry.json |
| b9ec1462-73fb-4f5b-be79-150f260df330 | 越南仁泽项目周更 | 每周一09:30 | No executor path in registry; owner set to agent:vn-realestate | job_registry.json; reports/monitor_snapshot_*.md |
| 4a3623c3-3f72-4f4d-a721-f15f67d55879 | 越南地产周报 | 每周一10:00 | No executor path in registry; owner set to agent:vn-realestate | job_registry.json |
| daily-ops-report-2000 | Generate Daily Ops Report | DAILY 20:00 | Duplicate: appears in both B级 list and daily_jobs → potential double-registration | job_registry.json (both places) |
| sync-model-catalog-daily-001 | sync_model_catalog_daily | daily 06:30 | Uses `sessionTarget: main` and payload; registry mixes `id` and `job_id` styles in same file (structural inconsistency) | job_registry.json |
| usd-gating-enforcer-001 | USD Gating Enforcer | EVERY 5 MINUTES | Script exists but registry lacks canonical id consistency; ensure single representation | job_registry.json; /Users/apple/clawd/scripts/usd_gating_enforcer.py |

---

## Recommended immediate actions
1. Export this report and review job-by-job. (Done: you're viewing it)
2. Normalize registry structure: unify `id` vs `job_id` to a single `id` field; add `exec_hint` or `script` where missing for manual triggerability. I can prepare a patch.
3. Add `alias` array for renamed jobs (e.g., keep "小档每日知识审阅" as alias of "小雅每日知识审阅") so historical logs remain searchable.
4. Merge duplicate definitions (e.g., `daily-ops-report-2000`) into single canonical entry.
5. If you want owner visible in UI / used for routing, we need a gateway config change (sync owners into openclaw.json or add a mapping gateway reads). I can prepare config.patch preview.

---

If you want, I will now:
- [ ] Generate a CSV/Markdown table with file+line hits for each job (detailed call sites) — more actionable for edits. (recommended next step)
- [ ] Prepare a normalization patch (id/job_id unification + exec_hint autofill) as preview.
- [ ] Prepare gateway config.patch to sync owners into openclaw.json (preview only, no apply).

Reply which follow-up you want (e.g., "generate call-site CSV", "prepare normalization patch", "prepare gateway patch", or "none").
